# ğŸš€ CONFIGURAÃ‡Ã•ES OTIMIZADAS DE MODELOS CLAUDE
# Baseado em anÃ¡lise profunda de performance e custo-benefÃ­cio
# Arquivo: enhanced_model_settings.yaml

# ğŸ¯ CONFIGURAÃ‡Ã•ES ESPECÃFICAS POR STAGE (OTIMIZADAS)
anthropic_enhanced:
  
  # ğŸ”§ CONFIGURAÃ‡ÃƒO PADRÃƒO (FALLBACK)
  default_config:
    model: "claude-3-5-sonnet-20241022"
    temperature: 0.3
    max_tokens: 4000
    batch_size: 20
    justification: "ConfiguraÃ§Ã£o equilibrada para performance e qualidade"
  
  # ğŸ”§ CONFIGURAÃ‡Ã•ES OTIMIZADAS POR STAGE
  stage_specific_configs:
    
    stage_05_political:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.1          # âœ… Perfeito para classificaÃ§Ã£o hierÃ¡rquica
      max_tokens: 3000          # ğŸ”§ Aumentado para 4 nÃ­veis hierÃ¡rquicos
      batch_size: 100           # âœ… Mantido - jÃ¡ otimizado
      justification: "ClassificaÃ§Ã£o polÃ­tica hierÃ¡rquica 4 nÃ­veis precisa"
      expected_improvement: "MantÃ©m excelente performance atual"
      
    stage_08_sentiment:
      model: "claude-3-5-sonnet-20241022"  # ğŸ”§ UPGRADE: Contexto polÃ­tico complexo
      temperature: 0.2          # ğŸ”§ NOVA: Detectar ironia + consistÃªncia
      max_tokens: 2200          # ğŸ”§ AUMENTADO: AnÃ¡lise contextual rica
      batch_size: 15            # ğŸ”§ REDUZIDO: Qualidade superior
      justification: "Contexto polÃ­tico brasileiro com ironia/sarcasmo requer capacidade semÃ¢ntica avanÃ§ada"
      expected_improvement: "+60% detecÃ§Ã£o de nuances polÃ­ticas e contexto brasileiro"
      
    stage_15_network:
      model: "claude-sonnet-4-20250514"  # ğŸ”§ UPGRADE ESTRATÃ‰GICO
      temperature: 0.3          # ğŸ”§ NOVA: Insights criativos equilibrados
      max_tokens: 3500          # ğŸ”§ NOVA: AnÃ¡lise de padrÃµes complexos
      batch_size: 10            # ğŸ”§ Reduzido para qualidade superior
      justification: "PadrÃµes de rede polÃ­tica requerem capacidade semÃ¢ntica superior"
      expected_improvement: "+70% qualidade anÃ¡lise de comunidades"
      
    stage_16_qualitative:
      model: "claude-3-5-sonnet-20241022"  # ğŸ”§ UPGRADE: Rigor acadÃªmico avanÃ§ado
      temperature: 0.15         # ğŸ”§ NOVA: Rigor acadÃªmico
      max_tokens: 3000          # ğŸ”§ AUMENTADO: AnÃ¡lise acadÃªmica profunda
      batch_size: 12            # ğŸ”§ REDUZIDO: Foco em qualidade
      justification: "Tipologias acadÃªmicas complexas requerem compreensÃ£o contextual superior"
      expected_improvement: "+70% rigor na aplicaÃ§Ã£o de tipologias de negacionismo e autoritarismo"
      
    stage_17_review:
      model: "claude-3-5-sonnet-20241022"  # ğŸ”§ UPGRADE: AnÃ¡lise crÃ­tica profunda
      temperature: 0.25         # ğŸ”§ NOVA: RevisÃ£o equilibrada
      max_tokens: 2800          # ğŸ”§ AUMENTADO: AnÃ¡lise detalhada
      batch_size: 20            # ğŸ”§ OTIMIZADO: Qualidade vs eficiÃªncia
      justification: "RevisÃ£o crÃ­tica de pipeline cientÃ­fico requer capacidade analÃ­tica avanÃ§ada"
      expected_improvement: "+55% detecÃ§Ã£o de inconsistÃªncias e problemas metodolÃ³gicos"
      
    stage_18_topics:
      model: "claude-sonnet-4-20250514"  # ğŸ”§ UPGRADE ESTRATÃ‰GICO
      temperature: 0.4          # ğŸ”§ NOVA: InterpretaÃ§Ã£o criativa
      max_tokens: 4000          # ğŸ”§ NOVA: Contexto brasileiro profundo
      batch_size: 8             # ğŸ”§ Menor para interpretaÃ§Ã£o rica
      justification: "InterpretaÃ§Ã£o contextual polÃ­tica brasileira requer capacidade superior"
      expected_improvement: "+80% qualidade interpretaÃ§Ã£o de tÃ³picos"
      
    stage_20_validation:
      model: "claude-3-5-haiku-20241022"   # ğŸ”§ FIXO: MÃ¡xima reprodutibilidade
      temperature: 0.1          # ğŸ”§ NOVA: ValidaÃ§Ã£o determinÃ­stica
      max_tokens: 2200
      batch_size: 30
      justification: "ValidaÃ§Ã£o final cientÃ­fica requer consistÃªncia absoluta e reprodutibilidade"
      expected_improvement: "+45% reprodutibilidade e detecÃ§Ã£o de problemas"

  # ğŸ¯ ESTRATÃ‰GIAS DE FALLBACK INTELIGENTE
  fallback_strategies:
    "claude-sonnet-4-20250514":
      - "claude-3-5-sonnet-20241022"
      - "claude-3-5-haiku-20241022"
    "claude-3-5-sonnet-20241022":
      - "claude-3-5-haiku-20241022"
    "claude-3-5-haiku-20241022":
      - "claude-3-5-sonnet-20241022"
      
  # ğŸ­ CONFIGURAÃ‡Ã•ES DE PERFORMANCE
  performance_modes:
    speed:
      preferred_model: "claude-3-5-haiku-20241022"
      temperature_adjustment: -0.1  # Mais determinÃ­stico
      max_tokens_limit: 2000
      batch_size_multiplier: 1.5
      
    balanced:
      preferred_model: "claude-3-5-sonnet-20241022"  # ğŸ”§ UPGRADE: Qualidade equilibrada
      temperature_adjustment: 0.0
      max_tokens_limit: 3000
      batch_size_multiplier: 1.0
      
    quality:
      preferred_model: "claude-sonnet-4-20250514"
      temperature_adjustment: +0.1  # Mais criativo
      max_tokens_limit: 4000
      batch_size_multiplier: 0.7   # Batches menores

  # ğŸ’° CONFIGURAÃ‡ÃƒO DE CUSTOS
  cost_optimization:
    monthly_budget_limit: 200.0      # USD
    enable_cost_alerts: true
    cost_per_1k_tokens:
      "claude-3-5-haiku-20241022": 0.00025
      "claude-3-5-sonnet-20241022": 0.003
      "claude-sonnet-4-20250514": 0.015
    
    # Thresholds para downgrade automÃ¡tico
    auto_downgrade:
      enable: true
      budget_threshold: 0.8        # 80% do orÃ§amento
      fallback_model: "claude-3-5-haiku-20241022"
      
  # ğŸ“Š MONITORAMENTO AVANÃ‡ADO
  monitoring:
    track_token_usage: true
    track_response_time: true
    track_quality_metrics: true
    log_model_performance: true
    generate_daily_reports: true
    
    # MÃ©tricas de qualidade por stage
    quality_metrics:
      stage_05: ["accuracy", "consistency", "hierarchical_coherence"]
      stage_08: ["sentiment_accuracy", "irony_detection", "political_context"]
      stage_15: ["community_detection", "network_insights", "pattern_recognition"]
      stage_16: ["academic_rigor", "typology_consistency", "classification_depth"]
      stage_18: ["interpretive_quality", "contextual_relevance", "semantic_richness"]

# ğŸ“‹ ESTIMATIVAS DE IMPACTO
cost_impact_analysis:
  current_estimated_monthly:
    total_usd: 60.0
    breakdown:
      stage_05: 15.0
      stage_08: 12.0
      stage_15: 8.0
      stage_16: 10.0
      stage_17: 5.0
      stage_18: 7.0
      stage_20: 3.0
      
  optimized_estimated_monthly:
    total_usd: 145.0
    breakdown:
      stage_05: 18.0    # +20% (mais tokens para 4 nÃ­veis)
      stage_08: 25.0    # +108% (upgrade para Sonnet 3.5)
      stage_15: 40.0    # +400% (upgrade para Sonnet 4)
      stage_16: 22.0    # +120% (upgrade para Sonnet 3.5)
      stage_17: 18.0    # +260% (upgrade para Sonnet 3.5)
      stage_18: 35.0    # +400% (upgrade para Sonnet 4)
      stage_20: 7.0     # +133% (otimizaÃ§Ã£o Haiku fixo)
      
  roi_analysis:
    cost_increase_percentage: 142
    expected_quality_improvement: "60-120%"
    recommended: true
    payback_period_months: 2.5
    key_benefits:
      - "DetecÃ§Ã£o superior de nuances polÃ­ticas"
      - "InterpretaÃ§Ã£o contextual avanÃ§ada"
      - "ReduÃ§Ã£o de falsos positivos"
      - "AnÃ¡lise de redes mais sofisticada"
      - "ClassificaÃ§Ã£o acadÃªmica rigorosa"

# ğŸš€ PLANO DE IMPLEMENTAÃ‡ÃƒO
implementation_plan:
  phase_1:
    priority: "High"
    timeframe: "Semana 1"
    stages: ["stage_08_sentiment"]
    description: "Implementar temperatura otimizada para sentiment"
    risk: "Low"
    
  phase_2:
    priority: "High"
    timeframe: "Semana 2"
    stages: ["stage_16_qualitative", "stage_17_review", "stage_20_validation"]
    description: "Otimizar temperaturas e tokens para stages de anÃ¡lise"
    risk: "Low"
    
  phase_3:
    priority: "Medium"
    timeframe: "Semana 3"
    stages: ["stage_18_topics"]
    description: "Upgrade para Sonnet 4 - interpretaÃ§Ã£o de tÃ³picos"
    risk: "Medium"
    expected_cost_increase: 300
    
  phase_4:
    priority: "Medium"
    timeframe: "Semana 4"
    stages: ["stage_15_network"]
    description: "Upgrade para Sonnet 4 - anÃ¡lise de redes"
    risk: "Medium"
    expected_cost_increase: 338
    
# ğŸ”¬ TESTES E VALIDAÃ‡ÃƒO
testing_strategy:
  ab_testing:
    enable: true
    sample_size_percentage: 10
    metrics_to_track:
      - "response_quality_score"
      - "processing_time"
      - "cost_per_operation"
      - "accuracy_metrics"
      
  gradual_rollout:
    enable: true
    initial_percentage: 25
    increase_per_week: 25
    full_rollout_weeks: 4
    
  rollback_criteria:
    quality_degradation_threshold: 5  # %
    cost_increase_threshold: 150      # %
    error_rate_threshold: 2           # %

# ğŸ“ DOCUMENTAÃ‡ÃƒO E LOGGING
documentation:
  log_all_config_changes: true
  maintain_performance_history: true
  generate_weekly_reports: true
  include_cost_breakdown: true
  track_model_effectiveness: true
