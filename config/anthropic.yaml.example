# Anthropic API Configuration for Academic Research
# Copy this file to anthropic.yaml and add your API key

anthropic:
  # API Configuration (set in .env file as ANTHROPIC_API_KEY)
  api_key: "${ANTHROPIC_API_KEY}"  # Will be loaded from .env file
  base_url: "https://api.anthropic.com"
  
  # Unified Model Selection (simplified for academic use)
  primary_model: "claude-3-5-haiku-20241022"  # Single model for all tasks
  fallback_models:
    - "claude-3-5-haiku-20241022"  # Same model for consistency
    - "claude-3-5-sonnet-20241022"  # Emergency fallback only
  
  # Stage-Specific Configurations
  stage_configs:
    political_analysis:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.1  # Deterministic political classification
      max_tokens: 2500
      
    sentiment_analysis:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.2  # Consistent emotional detection
      max_tokens: 2000
      
    topic_interpretation:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.4  # Creative interpretation
      max_tokens: 3000
      
    text_processing:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.2  # Consistent preprocessing
      max_tokens: 1500
      
    qualitative_analysis:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.3  # Balanced analysis
      max_tokens: 3000
      
    network_analysis:
      model: "claude-3-5-haiku-20241022"
      temperature: 0.2  # Pattern detection
      max_tokens: 3000
  
  # Smart Fallback Strategy
  fallback_strategy:
    enable_smart_fallback: true
    budget_exceeded_threshold: 0.8  # 80% budget used
    rate_limit_backoff: true
    quality_threshold: 0.7  # Minimum confidence score
    
  # Academic Research Settings
  enable_api_integration: true
  academic_mode: true
  
  # Budget Controls
  monthly_budget_usd: 50.0
  cost_tracking: true
  auto_downgrade: false  # Not needed since using single model
  budget_alert_thresholds:
    warning: 0.8  # 80%
    critical: 0.9  # 90%
    emergency: 0.95  # 95%
  
  # Portuguese Research Optimization
  portuguese_optimization: true
  brazilian_political_analysis: true
  preserve_original_categories: true
  
  # Rate Limiting (academic-friendly)
  requests_per_minute: 100  # Haiku has higher limits
  max_concurrent_requests: 5
  
  # Timeout Settings
  request_timeout: 120
  max_retries: 3
  retry_delay: 2.0
  exponential_backoff: true
  
  # Academic Features
  research_mode: true
  enable_confidence_scoring: true
  quality_validation: true